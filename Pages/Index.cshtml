@page  "{id:int?}"
@model IndexModel
@using System.IO;
@using MySql;
@using MySql.Data.MySqlClient;
@{
    ViewData["Title"] = "Home page";
}

<div id="app">
    <br />
    <!--PAGINATION-->
    <div class="row ">
        @if (Model.Id == 0 || Model.Id == 1)
        {
            <ul class="pagination center-align ">
                @for (int i = 1; i <= 7; i++)
                {
                    <li class="waves-effect" id="@Model.Id"><a href="./@i">@i</a></li>
                }
                <li>...</li>
                <li class="waves-effect" id="@Model.Id"><a href="./@(Model.MaxId / 10)">@(Model.MaxId / 10)</a></li>
                <li class="disabled"><a href="http://nsfwpics.pw/@(Model.Id+2)"><i class="material-icons">chevron_right</i></a></li>
            </ul>
        }
        else if (Model.Id == (Model.MaxId / 10))
        {
            <ul class="pagination center-align ">
                <li class="disabled"><a href="http://nsfwpics.pw/@(Model.Id-1)"><i class="material-icons">chevron_left</i></a></li>
                <li class="waves-effect" id="@Model.Id"><a href="./@(Model.MaxId / 10)">@(Model.MaxId / 10)</a></li>
            </ul>
        }
        else if (Model.Id >= 3)
        {

            <ul class="pagination center-align ">
                <li class="disabled"><a href="http://nsfwpics.pw/@(Model.Id-1)"><i class="material-icons">chevron_left</i></a></li>
                <li class="waves-effect"><a href="./1">1</a></li>
                <li>...</li>
                <li class="waves-effect"><a href="./@(Model.Id - 1)">@(Model.Id - 1)</a></li>
                @for (int i = Model.Id; i <= (Model.Id + 4); i++)
                {
                    <li class="waves-effect" id="@Model.Id"><a href="./@i">@i</a></li>
                }
                <li>...</li>
                <li class="waves-effect"><a href="./@(Model.MaxId / 10)">@(Model.MaxId / 10)</a></li>
                <li class="disabled"><a href="http://nsfwpics.pw/@(Model.Id+1)"><i class="material-icons">chevron_right</i></a></li>
            </ul>
        }
        else
        {
            <ul class="pagination center-align ">
                <li class="disabled"><a href="http://nsfwpics.pw/@(Model.Id-1)"><i class="material-icons">chevron_left</i></a></li>
                <li class="waves-effect"><a href="./1">1</a></li>
                @for (int i = Model.Id; i <= (Model.Id + 4); i++)
                {
                    <li class="waves-effect" id="@Model.Id"><a href="./@i">@i</a></li>
                }
                <li>...</li>
                <li class="waves-effect"><a href="./@(Model.MaxId / 10)">@(Model.MaxId / 10)</a></li>
                <li class="disabled"><a href="http://nsfwpics.pw/@(Model.Id+1)"><i class="material-icons">chevron_right</i></a></li>
            </ul>
        }
    </div>
    <!--PAGINATION END-->
    <br />
    <!--CONTENT FOR MAIN PAGE-->
    <div class="container center-align">
        @if (Model.Id == 1 || Model.Id == 0)
        {
            @for (int i = (Model.Id); i < (Model.Id + 10); i++)
            {
                <div class="row z-depth-5" id="content_element">
                    <span id="h" class="col left ">
                        <a href="/img/view/@Model.List()[i].Id" id="img_index">#@Model.List()[i].Id </a>
                    </span>
                    <span id="feed" class="col right s-8">
                        <span id="points_@Model.List()[i].Id" class="points">@Model.List()[i].Points</span>
                        <button onclick="plus(@Model.List()[i].Id)" class="btn-floating btn-large waves-effect waves-light light-green" id="button_plus_@Model.List()[i].Id"><i class="material-icons">thumb_up</i></button>
                        <button onclick="minus(@Model.List()[i].Id)" class="btn-floating btn-large waves-effect waves-light red" id="button_minus_@Model.List()[i].Id"><i class="material-icons">thumb_down</i></button>
                    </span>
                    <br /><br />
                    @{
                        string link = Model.List()[i].Uri.ToString();
                        string extension = link.Substring(link.Length - 3);
                        if (extension == "png")
                        {
                            <img class="materialboxed col center-align s-12" src="@Model.List()[i].Uri" alt="Photo from link @Model.List()[i].Uri" id="photo_no_@Model.List()[i].Id" name="photo" />
                        }
                        else if (extension == "mp4")
                        {
                            <div class="afterglow video-js vjs-afterglow-skin vjs-responsive vjs-controls-enabled vjs-workinghover vjs-has-started localvideo-dimensions vjs-paused vjs-user-inactive">

                                <video src="@Model.List()[i].Uri" alt="Video from link @Model.List()[i].Uri" id="my-video" class="materialboxed col center-align s-12 " controls loop />
                            </div>
                        }
                        else
                        {
                            <div style="width: 100%; height: 0px; position: relative; padding-bottom: 56.250%;">
                                <iframe src="@Model.List()[i].Uri" frameborder="0" width="100%" height="100%" allowfullscreen style="width: 100%; height: 100%; position: absolute;"></iframe>
                            </div>
                        }

                    }
                    <br />
                    <span id="img_tags">
                        By @Model.List()[i].Author at @Model.List()[i].Date
                    </span>
                    <br />
                </div>
                <br /><br />
                <!--Exo network ads-->
                @if (i == 4 || i == 7 || i == 2)
                {
                    <p id="img_tags" class="center-align">Advertisement</p>
                    <script type="text/javascript">
                        var ad_idzone = "2935168",
                            ad_width = "300",
                            ad_height = "250";
                    </script>
                    <script type="text/javascript" src="https://ads.exosrv.com/ads.js"></script>
                    <noscript><a href="https://main.exosrv.com/img-click.php?idzone=2935168" target="_blank"><img src="https://syndication.exosrv.com/ads-iframe-display.php?idzone=2935168&output=img&type=300x250" width="300" height="250"></a></noscript>
                    <br /><br /><br />
                }
            }
        }
        else
        {
            <!--CONTENT FOR NEXT PAGES AFTER FIRST ONE-->
            @for (int i = 0; i < 10; i++)
            {

                <div class="row z-depth-5" id="content_element">
                    <span id="h" class="col left ">
                        <a href="/img/view/@Model.List()[i].Id">#@Model.List()[i].Id</a>
                    </span>
                    <span id="feed" class="col right s-8">
                        <span id="points_@Model.List()[i].Id" class="points">@Model.List()[i].Points</span>
                        <button onclick="plus(@Model.List()[i].Id)" class="btn-floating btn-large waves-effect waves-light light-green" id="button_plus_@Model.List()[i].Id"><i class="material-icons">thumb_up</i></button>
                        <button onclick="minus(@Model.List()[i].Id)" class="btn-floating btn-large waves-effect waves-light red" id="button_minus_@Model.List()[i].Id"><i class="material-icons">thumb_down</i></button>
                    </span>
                    <br /><br />
                    @{
                        string link = Model.List()[i].Uri.ToString();
                        string extension = link.Substring(link.Length - 3);
                        if (extension == "png")
                        {
                            <img class="materialboxed col center-align s-12" src="@Model.List()[i].Uri" alt="Photo from link @Model.List()[i].Uri" id="photo_no_@Model.List()[i].Id" name="photo" />
                        }
                        else if (extension == "mp4")
                        {
                            <video src="@Model.List()[i].Uri" alt="Video from link @Model.List()[i].Uri" id="my-video" class="materialboxed col center-align s-12 " controls loop/>
                        }
                        else
                        {
                            <div style="width: 100%; height: 0px; position: relative; padding-bottom: 56.250%;">
                                <iframe src="@Model.List()[i].Uri" frameborder="0" width="100%" height="100%" allowfullscreen style="width: 100%; height: 100%; position: absolute;"></iframe>
                            </div>
                        }

                    }
                    <br />
                    <span id="img_tags">

                    </span>
                    <br />
                </div>
                <br /><br />
                @if (i % 2 == 0)
                {
                    <p id="img_tags" class="center-align">Advertisement</p>
                    <script type="text/javascript">
                        var ad_idzone = "2935168",
                            ad_width = "300",
                            ad_height = "250";
                    </script>
                    <script type="text/javascript" src="https://ads.exosrv.com/ads.js"></script>
                    <noscript><a href="https://main.exosrv.com/img-click.php?idzone=2935168" target="_blank"><img src="https://syndication.exosrv.com/ads-iframe-display.php?idzone=2935168&output=img&type=300x250" width="300" height="250"></a></noscript>
                    <br /><br /><br />
                }
            }
        }
    </div>
    <!--CONTETNT END-->
    <!--PAGINATION-->
    <div class="row ">
        @if (Model.Id == 0 || Model.Id == 1)
        {
            <ul class="pagination center-align ">
                @for (int i = 1; i <= 7; i++)
                {
                    <li class="waves-effect" id="Down_@Model.Id"><a href="./@i">@i</a></li>
                }
                <li>...</li>
                <li class="waves-effect" id="Down_@Model.Id"><a href="./@(Model.MaxId / 10)">@(Model.MaxId / 10)</a></li>
                <li class="disabled"><a href="http://nsfwpics.pw/@(Model.Id+2)"><i class="material-icons">chevron_right</i></a></li>
            </ul>
        }
        else if (Model.Id == (Model.MaxId / 10))
        {
            <ul class="pagination center-align ">
                <li class="disabled"><a href="http://nsfwpics.pw/@(Model.Id-1)"><i class="material-icons">chevron_left</i></a></li>
                <li class="waves-effect" id="Down_@Model.Id"><a href="./@(Model.MaxId / 10)">@(Model.MaxId / 10)</a></li>
            </ul>
        }
        else if (Model.Id >= 3)
        {

            <ul class="pagination center-align ">
                <li class="disabled"><a href="http://nsfwpics.pw/@(Model.Id-1)"><i class="material-icons">chevron_left</i></a></li>
                <li class="waves-effect"><a href="./1">1</a></li>
                <li>...</li>
                <li class="waves-effect"><a href="./@(Model.Id - 1)">@(Model.Id - 1)</a></li>
                @for (int i = Model.Id; i <= (Model.Id + 4); i++)
                {
                    <li class="waves-effect" id="Down_@Model.Id"><a href="./@i">@i</a></li>
                }
                <li>...</li>
                <li class="waves-effect"><a href="./@(Model.MaxId / 10)">@(Model.MaxId / 10)</a></li>
                <li class="disabled"><a href="http://nsfwpics.pw/@(Model.Id+1)"><i class="material-icons">chevron_right</i></a></li>
            </ul>
        }
        else
        {
            <ul class="pagination center-align ">
                <li class="disabled"><a href="http://nsfwpics.pw/@(Model.Id-1)"><i class="material-icons">chevron_left</i></a></li>
                <li class="waves-effect"><a href="./1">1</a></li>
                @for (int i = Model.Id; i <= (Model.Id + 4); i++)
                {
                    <li class="waves-effect" id="Down_@Model.Id"><a href="./@i">@i</a></li>
                }
                <li>...</li>
                <li class="waves-effect"><a href="./@(Model.MaxId / 10)">@(Model.MaxId / 10)</a></li>
                <li class="disabled"><a href="http://nsfwpics.pw/@(Model.Id+1)"><i class="material-icons">chevron_right</i></a></li>
            </ul>
        }
    </div>
    <!--PAGINATION END-->
    <br />
    <div class="center-align">
        <p id="img_tags" class="center-align">Advertisement</p>
        <!--Exo network ads-->
        <script type="text/javascript">
            var ad_idzone = "2935150",
                ad_width = "300",
                ad_height = "50";
        </script>
        <script type="text/javascript" src="https://ads.exosrv.com/ads.js"></script>
        <noscript><a href="https://main.exosrv.com/img-click.php?idzone=2935150" target="_blank"><img src="https://syndication.exosrv.com/ads-iframe-display.php?idzone=2935150&output=img&type=300x50" width="300" height="50"></a></noscript>
        <br /><br />
    </div>
</div>
<script>
    window.onload = paginationActiveSite(@Model.Id);
    function paginationActiveSite(id) {
        document.getElementById(id).classList.add("active");
        document.getElementById(`Down_${id}`).classList.add("active");
    }
</script>