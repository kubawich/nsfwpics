self.addEventListener("install",function(n){var t=new Request("");n.waitUntil(fetch(t).then(function(n){return caches.open("MyApp-offline").then(function(i){return console.log("[MyApp] Cached index page during Install"+n.url),i.put(t,n)})}))});self.addEventListener("fetch",function(n){var t=function(n){return caches.open("MyApp-offline").then(function(t){return fetch(n).then(function(i){return console.log("[MyApp] add page to offline"+i.url),t.put(n,i)})})};n.waitUntil(t(n.request));n.respondWith(fetch(n.request).catch(function(t){return console.log("[MyApp] Network request Failed. Serving content from cache: "+t),caches.open("MyApp-offline").then(function(t){return t.match(n.request).then(function(n){return!n||n.status==404?Promise.reject("no-match"):n})})}))});